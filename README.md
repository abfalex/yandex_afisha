# Аналог Яндекс Афиши

Этот проект представляет аналог Яндекс Афиши.

Ссылка на демонстрацию: https://natewentworth.pythonanywhere.com/

## Установка

Необходимо иметь установленный [Python 3.x](https://www.python.org/downloads/release/python-3125/)

Скопируйте следующую команду и вставьте в терминал, чтобы скопировать проект:

```
git clone https://github.com/abfalex/yandex_afisha.git
```

Теперь необходимо создать файл `.env` в корне проекта, указав несколько значений:

```
SECRET_KEY=<django_token>
ALLOWED_HOSTS=<allowed_hosts>
DEBUG=<debug_mode>
DB_NAME=<your_db_name>
```

Необходимо заменить значение этих данных на свои.

Далее вам необходимо создать виртуальную среду для удобного использования (рекомендуется):

```
python -m venv <venv_name>
```

После установки виртуальной среды ее необходимо активировать:

- В Windows:

    ```
    <venv_name>\Scripts\activate
    ```

- В macOS и Linux:

    ```
    source <venv_name>/bin/activate
    ```

После вам необходимо установить необходимые библиотеки. Введите эту команду в терминал:

```
pip install -r requirements.txt
```

## Запуск
Введите следующую команду в терминал, чтобы запустить проект:

```
python3 manage.py runserver
```

После этого, вам необходимо перейти по адресу [127.0.0.1:8000](https://127.0.0.1:8000).

Для управления локациями необходимо перейти по следующему адресу:
 [127.0.0.1:8000/admin](http://127.0.0.1:8000/admin).

### Загрузка данных
Для удобной загрузки данных необходимо использовать следующую команду:

```
python3 manage.py load_place -u <URL на JSON>
```

Замените `<>` на ссылку с json данными.

Образец JSON файла локации:

```
{
    "title": "название локации",
    "imgs": [
        "ссылка на изображение",
        ...
    ],
    "description_short": "короткое описание",
    "description_long": "подробное описание",
    "coordinates": {
        "lng": "долгота",
        "lat": "широта"
    }
}
```